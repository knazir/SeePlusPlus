name: frontend
type: Load Balanced Web Service

cpu: 256
memory: 512
count: 2
platform: linux/x86_64

# HTTP configuration
http:
  path: '/'
  healthcheck: '/health'

# Environment variables
environments:
  production:
    cpu: 512
    memory: 1024
    count: 3
    http:
      certificate: '${COPILOT_APPLICATION_NAME}.example.com'

# Build configuration
build:
  dockerfile: ./frontend/Dockerfile
  context: ./frontend

# Static asset serving (if using nginx or similar)
sidecars:
  nginx:
    port: 80
    image:
      build: ./frontend/Dockerfile
    essential: true